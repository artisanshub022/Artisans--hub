<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artisans Hub - Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>Welcome to Artisans Hub</h2>

    <!-- Role Selection -->
    <p>Select your role:</p>
    <label><input type="radio" name="role" value="artist" checked> Artist</label>
    <label><input type="radio" name="role" value="buyer"> Buyer</label>

    <!-- Email/Password Form -->
    <input type="email" id="email" placeholder="Enter email">
    <input type="password" id="password" placeholder="Enter password">
    <button onclick="signUp()">Sign Up</button>
    <button onclick="login()">Login</button>

    <hr>
    <!-- Google Login -->
    <button class="google-btn" onclick="googleLogin()">Sign in with Google</button>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    import { 
      getAuth, 
      createUserWithEmailAndPassword, 
      signInWithEmailAndPassword, 
      signInWithPopup, 
      GoogleAuthProvider 
    } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";

    // âœ… Firebase config (apna config daalo)
    const firebaseConfig = {
  apiKey: "AIzaSyAT45JeRiga5sEFgh2ytK3w7rk6nD46zv8",
  authDomain: "artisans-hub-fb2b6.firebaseapp.com",
  projectId: "artisans-hub-fb2b6",
  storageBucket: "artisans-hub-fb2b6.firebasestorage.app",
  messagingSenderId: "341028879133",
  appId: "1:341028879133:web:cdf3f38d0995a5390ffff4"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // ðŸŸ¢ Sign Up
    window.signUp = function () {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const role = document.querySelector('input[name="role"]:checked').value;

      createUserWithEmailAndPassword(auth, email, password)
        .then(() => {
          if (role === "artist") window.location.href = "artist-dashboard.html";
          else window.location.href = "buyer-dashboard.html";
        })
        .catch((error) => alert(error.message));
    };

    // ðŸŸ¢ Login
    window.login = function () {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const role = document.querySelector('input[name="role"]:checked').value;

      signInWithEmailAndPassword(auth, email, password)
        .then(() => {
          if (role === "artist") window.location.href = "artist-dashboard.html";
          else window.location.href = "buyer-dashboard.html";
        })
        .catch((error) => alert(error.message));
    };

    // ðŸŸ¢ Google Login
    window.googleLogin = function () {
      const role = document.querySelector('input[name="role"]:checked').value;

      signInWithPopup(auth, provider)
        .then(() => {
          if (role === "artist") window.location.href = "artist-dashboard.html";
          else window.location.href = "buyer-dashboard.html";
        })
        .catch((error) => alert(error.message));
    };
  </script>
</body>
</html>
